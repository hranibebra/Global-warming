import telebot
import os
import random
from telebot import types

TOKEN = '7186069488:AAEqzkOZJNR8Z9iy_jfzdteeUX7btYq0ocs'

if TOKEN is None:
    print("–û—à–∏–±–∫–∞: –ù–µ –Ω–∞–π–¥–µ–Ω —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è TELEGRAM_BOT_TOKEN.")
    exit()

bot = telebot.TeleBot(TOKEN)

def get_climate_news_link():
    return "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ –∫–ª–∏–º–∞—Ç–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∑–¥–µ—Å—å: https://www.theguardian.com/environment/climate-change"

def get_faq():
    faq_text = """
**–ß—Ç–æ —Ç–∞–∫–æ–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ?**
–ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ - —ç—Ç–æ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –ó–µ–º–ª–∏.

**–ö–∞–∫–æ–≤—ã –ø—Ä–∏—á–∏–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏—è?**
–í –æ—Å–Ω–æ–≤–Ω–æ–º, —ç—Ç–æ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ, –≤—ã–∑–≤–∞–Ω–Ω–æ–µ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —á–µ–ª–æ–≤–µ–∫–∞.

**–ö–∞–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏—è?**
–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –º–æ—Ä—è, —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –ø–æ–≥–æ–¥–Ω—ã–µ —è–≤–ª–µ–Ω–∏—è, —Ç–∞—è–Ω–∏–µ –ª–µ–¥–Ω–∏–∫–æ–≤, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º –∏ —Ç.–¥.

**–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –±–æ—Ä—å–±—ã —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ–º?**
–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —ç–Ω–µ—Ä–≥–∏–∏, –ø–æ–≤—ã—à–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è, —É—á–∞—Å—Ç–∏–µ –≤ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞—Ö.
    """
    return faq_text

def get_resources():
    resources_text = """
**–ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–Ω–∏–∏:**

*   NASA Climate Change: [https://climate.nasa.gov/](https://climate.nasa.gov/)
*   NOAA Climate.gov: [https://www.climate.gov/](https://climate.nasa.gov/)
*   IPCC (–ú–µ–∂–ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–µ–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é –∫–ª–∏–º–∞—Ç–∞): [https://www.ipcc.ch/](https://www.ipcc.ch/)
    """
    return resources_text

facts = [
    "–°—Ä–µ–¥–Ω—è—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞ –ó–µ–º–ª–µ –ø–æ–≤—ã—Å–∏–ª–∞—Å—å –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1,2¬∞C —Å –∫–æ–Ω—Ü–∞ 19 –≤–µ–∫–∞, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤.",
    "–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–Ω–∏–∫–æ–≤—ã–µ –≥–∞–∑—ã ‚Äî —É–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑ (CO2), –º–µ—Ç–∞–Ω (CH4) –∏ –∑–∞–∫–∏—Å—å –∞–∑–æ—Ç–∞ (N2O). –ò—Ö —É—Ä–æ–≤–µ–Ω—å –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤–æ–∑—Ä–æ—Å —Å –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —Ä–µ–≤–æ–ª—é—Ü–∏–∏.",
    "–õ–µ–¥–Ω–∏–∫–∏ –≤ –ì—Ä–µ–Ω–ª–∞–Ω–¥–∏–∏ –∏ –ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥–µ —Ç–µ—Ä—è—é—Ç –æ–∫–æ–ª–æ 400 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ —Ç–æ–Ω–Ω –ª—å–¥–∞ –≤ –≥–æ–¥, —á—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –ø–æ–≤—ã—à–µ–Ω–∏—é —É—Ä–æ–≤–Ω—è –º–æ—Ä—è.",
    "–û–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ —É—Ä–æ–≤–µ–Ω—å –º–æ—Ä—è –º–æ–∂–µ—Ç –ø–æ–¥–Ω—è—Ç—å—Å—è –Ω–∞ 1 –º–µ—Ç—Ä –∏–ª–∏ –±–æ–ª–µ–µ –∫ 2100 –≥–æ–¥—É, —á—Ç–æ —É–≥—Ä–æ–∂–∞–µ—Ç –ø—Ä–∏–±—Ä–µ–∂–Ω—ã–º –≥–æ—Ä–æ–¥–∞–º –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞–º.",
    "–ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –ø–æ–≥–æ–¥–Ω—ã—Ö —è–≤–ª–µ–Ω–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ —É—Ä–∞–≥–∞–Ω—ã, –∑–∞—Å—É—Ö–∏ –∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è.",
    "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—é –º–∏–ª–ª–∏–æ–Ω–æ–≤ –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–Ω—É–∂–¥–µ–Ω—ã –ø–æ–∫–∏–Ω—É—Ç—å —Å–≤–æ–∏ –¥–æ–º–∞ –∏–∑-–∑–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –º–æ—Ä—è –∏–ª–∏ —É—Ö—É–¥—à–µ–Ω–∏—è —É—Å–ª–æ–≤–∏–π –∂–∏–∑–Ω–∏.",
    "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–µ–ª—å—Å–∫–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ, —Å–Ω–∏–∂–∞—è —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫—É–ª—å—Ç—É—Ä –∏ —É–≤–µ–ª–∏—á–∏–≤–∞—è —Ä–∏—Å–∫ –∑–∞—Å—É—Ö –∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–π.",
    "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –æ–∫–µ–∞–Ω–æ–≤ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ–±–µ—Å—Ü–≤–µ—á–∏–≤–∞–Ω–∏—é –∫–æ—Ä–∞–ª–ª–æ–≤—ã—Ö —Ä–∏—Ñ–æ–≤, —á—Ç–æ —É–≥—Ä–æ–∂–∞–µ—Ç –º–æ—Ä—Å–∫–∏–º —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞–º.",
    "–í –†–æ—Å—Å–∏–∏ —Ç–∞–π–≥–∞ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –ø–æ–≥–ª–æ—Ç–∏—Ç–µ–ª–µ–π —É–≥–ª–µ—Ä–æ–¥–∞, –Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –µ–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏.",
    "–ú–µ—Ç–∞–Ω –∏–º–µ–µ—Ç –≤ 25 —Ä–∞–∑ –±–æ–ª–µ–µ —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–Ω–∏–∫–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —É–≥–ª–µ–∫–∏—Å–ª—ã–º –≥–∞–∑–æ–º –∑–∞ 100-–ª–µ—Ç–Ω–∏–π –ø–µ—Ä–∏–æ–¥.",
    "–û–∫–µ–∞–Ω—ã –ø–æ–≥–ª–æ—â–∞—é—Ç –æ–∫–æ–ª–æ 30% —É–≥–ª–µ–∫–∏—Å–ª–æ–≥–æ –≥–∞–∑–∞, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏—Ö –ø–æ–¥–∫–∏—Å–ª–µ–Ω–∏—é –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ —Å–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –º–æ—Ä—Å–∫–æ–π –∂–∏–∑–Ω–∏.",
    "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ –ª–µ—Å–Ω—ã—Ö –ø–æ–∂–∞—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–µ–ª—è—é—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–≥–ª–µ—Ä–æ–¥–∞ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É.",
    "–°–Ω–µ–≥ –∏ –ª–µ–¥ –æ—Ç—Ä–∞–∂–∞—é—Ç —Å–æ–ª–Ω–µ—á–Ω—ã–µ –ª—É—á–∏, –Ω–æ –∏—Ö —Ç–∞—è–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –±–æ–ª—å—à–µ —Å–æ–ª–Ω–µ—á–Ω–æ–≥–æ —Å–≤–µ—Ç–∞ –ø–æ–≥–ª–æ—â–∞–µ—Ç—Å—è –ó–µ–º–ª–µ–π, —É—Å—É–≥—É–±–ª—è—è –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ.",
    "–ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ö—É–¥—à–µ–Ω–∏—é –∑–¥–æ—Ä–æ–≤—å—è –Ω–∞—Å–µ–ª–µ–Ω–∏—è –∏–∑-–∑–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏—è —á–∏—Å–ª–∞ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∂–∞—Ä–æ–π –∏ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ–º –≤–æ–∑–¥—É—Ö–∞.",
    "–ú–Ω–æ–≥–∏–µ –≤–∏–¥—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ —Ä–∞—Å—Ç–µ–Ω–∏–π –Ω–µ —É—Å–ø–µ–≤–∞—é—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –±—ã—Å—Ç—Ä–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—é –∫–ª–∏–º–∞—Ç–∞ –∏ –º–æ–≥—É—Ç –≤—ã–º–∏—Ä–∞—Ç—å.",
    "–ü–∞—Ä–∏–∂—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ –∫–ª–∏–º–∞—Ç—É –±—ã–ª–æ –ø–æ–¥–ø–∏—Å–∞–Ω–æ –≤ 2015 –≥–æ–¥—É —Å —Ü–µ–ª—å—é –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ –¥–æ 1,5¬∞C –≤—ã—à–µ –¥–æ–∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è.",
    "–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —ç–Ω–µ—Ä–≥–∏–∏ (—Å–æ–ª–Ω–µ—á–Ω—É—é, –≤–µ—Ç—Ä–æ–≤—É—é) —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º —à–∞–≥–æ–º –≤ –±–æ—Ä—å–±–µ —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ–º.",
    "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä–∞–Ω—ã —Å–æ–∑–¥–∞—é—Ç —Ä—ã–Ω–∫–∏ —É–≥–ª–µ—Ä–æ–¥–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –≤—ã–±—Ä–æ—Å—ã CO2 —Å —Ü–µ–ª—å—é —Å–Ω–∏–∂–µ–Ω–∏—è –æ–±—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –≤—ã–±—Ä–æ—Å–æ–≤.",
    "–ü–æ–≤—ã—à–µ–Ω–∏–µ –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç–∏ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∏–º–∞—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω—ã–º —à–∞–≥–æ–º –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è –æ–±—â–µ—Å—Ç–≤–∞ –≤ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ –µ–≥–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—é.",
    "–ö–∞–∂–¥—ã–π —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ –±–æ—Ä—å–±—É —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É –æ—Ç—Ö–æ–¥–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ –∂–∏–∑–Ω–∏.",
    "–¢–∞—è–Ω–∏–µ –≤–µ—á–Ω–æ–π –º–µ—Ä–∑–ª–æ—Ç—ã –≤—ã—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Ç–∞–Ω ‚Äî –º–æ—â–Ω—ã–π –ø–∞—Ä–Ω–∏–∫–æ–≤—ã–π –≥–∞–∑ ‚Äî —á—Ç–æ —É—Å—É–≥—É–±–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏—è.",
    "–ú–Ω–æ–≥–∏–µ –≤–∏–¥—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö –º–µ–Ω—è—é—Ç —Å–≤–æ–∏ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏–∑-–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∏–º–∞—Ç–∞, —á—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –∏ –ø–∏—â–µ–≤—ã–µ —Ü–µ–ø–æ—á–∫–∏."
]

def get_random_fact():
    return random.choice(facts)

MEME_FOLDER = "memes"

def get_meme_file_names():
    try:
        return [f for f in os.listdir(MEME_FOLDER) if os.path.isfile(os.path.join(MEME_FOLDER, f))]
    except FileNotFoundError:
        print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{MEME_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.")
        return []

meme_files = get_meme_file_names()

def get_random_meme():
    if not meme_files:
        return None
    return os.path.join(MEME_FOLDER, random.choice(meme_files))

TEMP_FOLDER = "temp"

def get_temperature():
    temp_change = +0.55
    source_link = "https://climate.nasa.gov/vital-signs/global-temperature/?intent=121"
    text = f"–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 14 –ª–µ—Ç(2010-2024): {temp_change} ¬∞C\n\n–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –∏—Å—Ç–æ—á–Ω–∏–∫ - {source_link}"

    try:
        image_files = [f for f in os.listdir(TEMP_FOLDER) if os.path.isfile(os.path.join(TEMP_FOLDER, f))]
        if not image_files:
            return None, text
        image_path = os.path.join(TEMP_FOLDER, random.choice(image_files))
        return image_path, text
    except FileNotFoundError:
        print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{TEMP_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.")
        return None, text

CO2_FOLDER = "co2"

def get_co2_level():
    co2_ppm = 428
    year = 2025
    source_link = "https://climate.nasa.gov/vital-signs/carbon-dioxide/?intent=121"
    text = f"–ê–∫—Ç—É–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å CO2 –Ω–∞ {year} –≥–æ–¥: {co2_ppm} ppm\n\n–ò—Å—Ç–æ—á–Ω–∏–∫ - {source_link}"

    try:
        image_files = [f for f in os.listdir(CO2_FOLDER) if os.path.isfile(os.path.join(CO2_FOLDER, f))]
        if not image_files:
            return None, text
        image_path = os.path.join(CO2_FOLDER, random.choice(image_files))
        return image_path, text
    except FileNotFoundError:
        print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{CO2_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.")
        return None, text

@bot.message_handler(commands=['start'])
def start(message):
    user_name = message.from_user.first_name
    if user_name is None:
        user_name = message.from_user.username
    greeting = f"–ü—Ä–∏–≤–µ—Ç, {user_name}! –Ø –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –∏–ª–∏ /menu –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥."
    bot.send_message(message.chat.id, greeting)
    show_menu(message)

def show_menu(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True, row_width=2)
    btn1 = types.KeyboardButton("üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞")
    btn2 = types.KeyboardButton("üí® –£—Ä–æ–≤–µ–Ω—å CO2")
    btn3 = types.KeyboardButton("üì∞ –ù–æ–≤–æ—Å—Ç–∏")
    btn4 = types.KeyboardButton("‚ùì FAQ")
    btn5 = types.KeyboardButton("üìö –†–µ—Å—É—Ä—Å—ã")
    btn6 = types.KeyboardButton("üí° –§–∞–∫—Ç")
    btn7 = types.KeyboardButton("üòÑ –ú–µ–º—ã")
    markup.add(btn1, btn2, btn3, btn4, btn5, btn6, btn7)
    bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é:", reply_markup=markup)

@bot.message_handler(commands=['menu'])
def menu(message):
    show_menu(message)

@bot.message_handler(commands=['help'])
def help(message):
    help_text = """
**–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥:**
/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.
/menu - –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏.
/temp - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –∞–Ω–æ–º–∞–ª–∏—é –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.
/co2 - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å CO2 –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ.
/news - –ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–∏.
/faq - –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã.
/resources - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–Ω–∏–∏.
/fact - –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Ñ–∞–∫—Ç –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–Ω–∏–∏.
/meme - –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –º–µ–º.
/help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.
    """
    bot.send_message(message.chat.id, help_text)

@bot.message_handler(func=lambda message: True)
def handle_text(message):
    if message.text == "üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞":
        temp(message)
    elif message.text == "üí® –£—Ä–æ–≤–µ–Ω—å CO2":
        co2(message)
    elif message.text == "üì∞ –ù–æ–≤–æ—Å—Ç–∏":
        news(message)
    elif message.text == "‚ùì FAQ":
        faq(message)
    elif message.text == "üìö –†–µ—Å—É—Ä—Å—ã":
        resources(message)
    elif message.text == "üí° –§–∞–∫—Ç":
        fact(message)
    elif message.text == "üòÑ –ú–µ–º—ã":
        meme(message)
    else:
        bot.send_message(message.chat.id, "–ù–µ –ø–æ–Ω–∏–º–∞—é. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ /help –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.")

@bot.message_handler(commands=['temp'])
def temp(message):
    image_path, text = get_temperature()
    if image_path:
        try:
            with open(image_path, "rb") as temperature_file:
                bot.send_photo(message.chat.id, temperature_file, caption=text)
        except FileNotFoundError:
            bot.send_message(message.chat.id, "–û—à–∏–±–∫–∞: –§–∞–π–ª —Å –≥—Ä–∞—Ñ–∏–∫–æ–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω.")
        except Exception as e:
            bot.send_message(message.chat.id, f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ: {e}")
    else:
        bot.send_message(message.chat.id, text)

@bot.message_handler(commands=['co2'])
def co2(message):
    image_path, text = get_co2_level()
    if image_path:
        try:
            with open(image_path, "rb") as co2_file:
                bot.send_photo(message.chat.id, co2_file, caption=text)
        except FileNotFoundError:
            bot.send_message(message.chat.id, "–û—à–∏–±–∫–∞: –§–∞–π–ª —Å –≥—Ä–∞—Ñ–∏–∫–æ–º CO2 –Ω–µ –Ω–∞–π–¥–µ–Ω.")
        except Exception as e:
            bot.send_message(message.chat.id, f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ–± —É—Ä–æ–≤–Ω–µ CO2: {e}")
    else:
        bot.send_message(message.chat.id, text)

@bot.message_handler(commands=['news'])
def news(message):
    climate_news_link = get_climate_news_link()
    bot.send_message(message.chat.id, climate_news_link)

@bot.message_handler(commands=['faq'])
def faq(message):
    faq = get_faq()
    bot.send_message(message.chat.id, faq)

@bot.message_handler(commands=['resources'])
def resources(message):
    resources = get_resources()
    bot.send_message(message.chat.id, resources)

@bot.message_handler(commands=['fact'])
def fact(message):
    random_fact = get_random_fact()
    if random_fact:
        bot.send_message(message.chat.id, random_fact)

@bot.message_handler(commands=['meme'])
def meme(message):
    random_meme_path = get_random_meme()
    if random_meme_path:
        try:
            with open(random_meme_path, "rb") as meme_file:
                bot.send_photo(message.chat.id, meme_file)
        except FileNotFoundError:
            bot.send_message(message.chat.id, "–û—à–∏–±–∫–∞: –§–∞–π–ª –º–µ–º–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω.")
        except Exception as e:
            bot.send_message(message.chat.id, f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –º–µ–º–∞: {e}")

    else:
        bot.send_message(message.chat.id, "–û—à–∏–±–∫–∞: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ–º–æ–≤.")

if __name__ == '__main__':
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω")
    bot.infinity_polling()